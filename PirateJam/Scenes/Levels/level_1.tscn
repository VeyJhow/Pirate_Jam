[gd_scene load_steps=15 format=3 uid="uid://bov7b7ux55k0e"]

[ext_resource type="PackedScene" uid="uid://b34246moptxfd" path="res://Scenes/UIs/rune_table.tscn" id="1_68kuo"]
[ext_resource type="PackedScene" uid="uid://cq7ir33sjrgor" path="res://Scenes/TileSets/forrest_background.tscn" id="1_c3yrf"]
[ext_resource type="PackedScene" uid="uid://bcg0vjb1md6jv" path="res://Scenes/player.tscn" id="2_tj5sw"]
[ext_resource type="PackedScene" uid="uid://7q11lvfmc6mj" path="res://Scenes/TileSets/forrest_tileset.tscn" id="3_hqw7u"]
[ext_resource type="PackedScene" uid="uid://dxjn2mqcf37a8" path="res://Scenes/Components/shadow_object_creator.tscn" id="3_jw6sl"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_h3hvs"]
size = Vector2(39, 96)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_g8fwo"]
polygon = PackedVector2Array(313.212, -47.5181, 331, -5, 495, -3, 491, -53)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_byd5k"]
size = Vector2(179, 45)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_2xdgf"]
polygon = PackedVector2Array(693, -59, 690, 1, 924, 6, 928, -55)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1bsd2"]
size = Vector2(235, 51)

[sub_resource type="Gradient" id="Gradient_221ih"]
offsets = PackedFloat32Array(0.153488, 0.646512)
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_k5548"]
gradient = SubResource("Gradient_221ih")
fill_from = Vector2(1, 0)
fill_to = Vector2(1, 0.737892)

[sub_resource type="Gradient" id="Gradient_gt0x5"]
offsets = PackedFloat32Array(0)
colors = PackedColorArray(1, 1, 1, 0.14902)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_u1h07"]
gradient = SubResource("Gradient_gt0x5")
fill_from = Vector2(1, 0)
fill_to = Vector2(1, 1)

[node name="Level_1" type="Node2D"]
z_index = 1

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.448807, 0.366742, 0.211086, 1)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="RuneTable" parent="CanvasLayer" instance=ExtResource("1_68kuo")]

[node name="Player" parent="." instance=ExtResource("2_tj5sw")]
z_as_relative = false
position = Vector2(345, 542)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
position = Vector2(2.5, 2)
shape = SubResource("RectangleShape2D_h3hvs")

[node name="ShadowObjectCreator" parent="Player" groups=["Spells"] instance=ExtResource("3_jw6sl")]

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(0, -185)
limit_top = 0
limit_bottom = 0
position_smoothing_enabled = true
position_smoothing_speed = 15.0

[node name="RayCast2D" type="RayCast2D" parent="Player"]
target_position = Vector2(93, -381)
collision_mask = 128
collide_with_areas = true
collide_with_bodies = false

[node name="ForrestTileset" parent="." instance=ExtResource("3_hqw7u")]
z_index = 2
scale = Vector2(3.125, 3.125)
layer_0/tile_data = PackedInt32Array(917504, 524288, 3, 983040, 524288, 3, 1048576, 524288, 3, 917505, 524288, 3, 983041, 524288, 3, 1048577, 524288, 3, 917506, 524288, 3, 983042, 524288, 3, 1048578, 524288, 3, 917507, 524288, 3, 983043, 524288, 3, 1048579, 524288, 3, 917508, 524288, 3, 983044, 524288, 3, 1048580, 524288, 3, 917509, 524288, 3, 983045, 524288, 3, 1048581, 524288, 3, 917510, 524288, 3, 983046, 524288, 3, 1048582, 524288, 3, 917511, 524288, 3, 983047, 524288, 3, 1048583, 524288, 3, 917512, 524288, 3, 983048, 524288, 3, 1048584, 524288, 3, 917513, 524288, 3, 983049, 524288, 3, 1048585, 524288, 3, 917514, 524288, 3, 983050, 524288, 3, 1048586, 524288, 3, 917515, 524288, 3, 983051, 524288, 3, 1048587, 524288, 3, 917516, 524288, 3, 983052, 524288, 3, 1048588, 524288, 3, 917517, 524288, 3, 983053, 524288, 3, 1048589, 524288, 3, 917518, 524288, 3, 983054, 524288, 3, 1048590, 524288, 3, 917519, 524288, 3, 983055, 524288, 3, 1048591, 524288, 3, 917520, 524288, 3, 983056, 524288, 3, 1048592, 524288, 3, 917521, 524288, 3, 983057, 524288, 3, 1048593, 524288, 3, 917522, 524288, 3, 983058, 524288, 3, 1048594, 524288, 3, 917523, 524288, 3, 983059, 524288, 3, 1048595, 524288, 3, 917524, 524288, 3, 983060, 524288, 3, 1048596, 524288, 3, 917525, 524288, 3, 983061, 524288, 3, 1048597, 524288, 3, 917526, 524288, 3, 983062, 524288, 3, 1048598, 524288, 3, 917527, 524288, 3, 983063, 524288, 3, 1048599, 524288, 3, 917528, 524288, 3, 983064, 524288, 3, 1048600, 524288, 3, 1114112, 524288, 3, 1114113, 524288, 3, 1114114, 524288, 3, 1114115, 524288, 3, 1114116, 524288, 3, 1114117, 524288, 3, 1114118, 524288, 3, 1114119, 524288, 3, 1114120, 524288, 3, 1114121, 524288, 3, 1114122, 524288, 3, 1114123, 524288, 3, 1114124, 524288, 3, 1114125, 524288, 3, 1114126, 524288, 3, 1114127, 524288, 3, 1114128, 524288, 3, 1114129, 524288, 3, 1114130, 524288, 3, 1114131, 524288, 3, 1114132, 524288, 3, 1114133, 524288, 3, 1114134, 524288, 3, 1114135, 524288, 3, 1114136, 524288, 3, 917529, 524288, 3, 983065, 524288, 3, 1048601, 524288, 3, 1114137, 524288, 3, 851968, 524288, 2, 851969, 524288, 2, 851970, 524288, 2, 851971, 524288, 2, 851972, 524288, 2, 851973, 524288, 2, 851974, 524288, 2, 851975, 524288, 2, 851976, 524288, 2, 851977, 524288, 2, 851978, 524288, 2, 851979, 524288, 2, 851980, 524288, 2, 851981, 524288, 2, 851982, 524288, 2, 851983, 524288, 2, 851984, 524288, 2, 851985, 524288, 2, 851986, 524288, 2, 851987, 524288, 2, 851988, 524288, 2, 851989, 524288, 2, 851990, 524288, 2, 851991, 524288, 2, 851992, 524288, 2, 851993, 524288, 2, 786432, 524288, 1, 786433, 524288, 1, 786434, 524288, 1, 786435, 524288, 1, 786436, 524288, 1, 786437, 524288, 1, 786438, 524288, 1, 786439, 524288, 1, 786440, 524288, 1, 786441, 524288, 1, 786442, 524288, 1, 786443, 524288, 1, 786444, 524288, 1, 786445, 524288, 1, 786446, 524288, 1, 786447, 524288, 1, 786448, 524288, 1, 786449, 524288, 1, 786450, 524288, 1, 786451, 524288, 1, 786452, 524288, 1, 786453, 524288, 1, 786454, 524288, 1, 786455, 524288, 1, 786456, 524288, 1, 786457, 524288, 1, 917530, 524288, 3, 983066, 524288, 3, 1048602, 524288, 3, 1114138, 524288, 3, 917531, 524288, 3, 983067, 524288, 3, 1048603, 524288, 3, 1114139, 524288, 3, 917532, 524288, 3, 983068, 524288, 3, 1048604, 524288, 3, 1114140, 524288, 3, 917533, 524288, 3, 983069, 524288, 3, 1048605, 524288, 3, 1114141, 524288, 3, 917534, 524288, 3, 983070, 524288, 3, 1048606, 524288, 3, 1114142, 524288, 3, 917535, 524288, 3, 983071, 524288, 3, 1048607, 524288, 3, 1114143, 524288, 3, 917536, 524288, 3, 983072, 524288, 3, 1048608, 524288, 3, 1114144, 524288, 3, 917537, 524288, 3, 983073, 524288, 3, 1048609, 524288, 3, 1114145, 524288, 3, 917538, 524288, 3, 983074, 524288, 3, 1048610, 524288, 3, 1114146, 524288, 3, 917539, 524288, 3, 983075, 524288, 3, 1048611, 524288, 3, 1114147, 524288, 3, 917540, 524288, 3, 983076, 524288, 3, 1048612, 524288, 3, 1114148, 524288, 3, 917541, 524288, 3, 983077, 524288, 3, 1048613, 524288, 3, 1114149, 524288, 3, 917542, 524288, 3, 983078, 524288, 3, 1048614, 524288, 3, 1114150, 524288, 3, 917543, 524288, 3, 983079, 524288, 3, 1048615, 524288, 3, 1114151, 524288, 3, 917544, 524288, 3, 983080, 524288, 3, 1048616, 524288, 3, 1114152, 524288, 3, 917545, 524288, 3, 983081, 524288, 3, 1048617, 524288, 3, 1114153, 524288, 3, 917546, 524288, 3, 983082, 524288, 3, 1048618, 524288, 3, 1114154, 524288, 3, 917547, 524288, 3, 983083, 524288, 3, 1048619, 524288, 3, 1114155, 524288, 3, 917548, 524288, 3, 983084, 524288, 3, 1048620, 524288, 3, 1114156, 524288, 3, 917549, 524288, 3, 983085, 524288, 3, 1048621, 524288, 3, 1114157, 524288, 3, 917550, 524288, 3, 983086, 524288, 3, 1048622, 524288, 3, 1114158, 524288, 3, 917551, 524288, 3, 983087, 524288, 3, 1048623, 524288, 3, 1114159, 524288, 3, 917552, 524288, 3, 983088, 524288, 3, 1048624, 524288, 3, 1114160, 524288, 3, 917553, 524288, 3, 983089, 524288, 3, 1048625, 524288, 3, 1114161, 524288, 3, 917554, 524288, 3, 983090, 524288, 3, 1048626, 524288, 3, 1114162, 524288, 3, 917555, 524288, 3, 983091, 524288, 3, 1048627, 524288, 3, 1114163, 524288, 3, 917556, 524288, 3, 983092, 524288, 3, 1048628, 524288, 3, 1114164, 524288, 3, 917557, 524288, 3, 983093, 524288, 3, 1048629, 524288, 3, 1114165, 524288, 3, 917558, 524288, 3, 983094, 524288, 3, 1048630, 524288, 3, 1114166, 524288, 3, 917559, 524288, 3, 983095, 524288, 3, 1048631, 524288, 3, 1114167, 524288, 3, 917560, 524288, 3, 983096, 524288, 3, 1048632, 524288, 3, 1114168, 524288, 3, 917561, 524288, 3, 983097, 524288, 3, 1048633, 524288, 3, 1114169, 524288, 3, 917562, 524288, 3, 983098, 524288, 3, 1048634, 524288, 3, 1114170, 524288, 3, 917563, 524288, 3, 983099, 524288, 3, 1048635, 524288, 3, 1114171, 524288, 3, 917564, 524288, 3, 983100, 524288, 3, 1048636, 524288, 3, 1114172, 524288, 3, 917565, 524288, 3, 983101, 524288, 3, 1048637, 524288, 3, 1114173, 524288, 3, 917566, 524288, 3, 983102, 524288, 3, 1048638, 524288, 3, 1114174, 524288, 3, 917567, 524288, 3, 983103, 524288, 3, 1048639, 524288, 3, 1114175, 524288, 3, 917568, 524288, 3, 983104, 524288, 3, 1048640, 524288, 3, 1114176, 524288, 3, 917569, 524288, 3, 983105, 524288, 3, 1048641, 524288, 3, 1114177, 524288, 3, 917570, 524288, 3, 983106, 524288, 3, 1048642, 524288, 3, 1114178, 524288, 3, 917571, 524288, 3, 983107, 524288, 3, 1048643, 524288, 3, 1114179, 524288, 3, 917572, 524288, 3, 983108, 524288, 3, 1048644, 524288, 3, 1114180, 524288, 3, 917573, 524288, 3, 983109, 524288, 3, 1048645, 524288, 3, 1114181, 524288, 3, 917574, 524288, 3, 983110, 524288, 3, 1048646, 524288, 3, 1114182, 524288, 3, 917575, 524288, 3, 983111, 524288, 3, 1048647, 524288, 3, 1114183, 524288, 3, 917576, 524288, 3, 983112, 524288, 3, 1048648, 524288, 3, 1114184, 524288, 3, 917577, 524288, 3, 983113, 524288, 3, 1048649, 524288, 3, 1114185, 524288, 3, 917578, 524288, 3, 983114, 524288, 3, 1048650, 524288, 3, 1114186, 524288, 3, 917579, 524288, 3, 983115, 524288, 3, 1048651, 524288, 3, 1114187, 524288, 3, 917580, 524288, 3, 983116, 524288, 3, 1048652, 524288, 3, 1114188, 524288, 3, 917581, 524288, 3, 983117, 524288, 3, 1048653, 524288, 3, 1114189, 524288, 3, 917582, 524288, 3, 983118, 524288, 3, 1048654, 524288, 3, 1114190, 524288, 3, 917583, 524288, 3, 983119, 524288, 3, 1048655, 524288, 3, 1114191, 524288, 3, 917584, 524288, 3, 983120, 524288, 3, 1048656, 524288, 3, 1114192, 524288, 3, 917585, 524288, 3, 983121, 524288, 3, 1048657, 524288, 3, 1114193, 524288, 3, 917586, 524288, 3, 983122, 524288, 3, 1048658, 524288, 3, 1114194, 524288, 3, 917587, 524288, 3, 983123, 524288, 3, 1048659, 524288, 3, 1114195, 524288, 3, 917588, 524288, 3, 983124, 524288, 3, 1048660, 524288, 3, 1114196, 524288, 3, 917589, 524288, 3, 983125, 524288, 3, 1048661, 524288, 3, 1114197, 524288, 3, 917590, 524288, 3, 983126, 524288, 3, 1048662, 524288, 3, 1114198, 524288, 3, 917591, 524288, 3, 983127, 524288, 3, 1048663, 524288, 3, 1114199, 524288, 3, 917592, 524288, 3, 983128, 524288, 3, 1048664, 524288, 3, 1114200, 524288, 3, 917593, 524288, 3, 983129, 524288, 3, 1048665, 524288, 3, 1114201, 524288, 3, 917594, 524288, 3, 983130, 524288, 3, 1048666, 524288, 3, 1114202, 524288, 3, 917595, 524288, 3, 983131, 524288, 3, 1048667, 524288, 3, 1114203, 524288, 3, 917596, 524288, 3, 983132, 524288, 3, 1048668, 524288, 3, 1114204, 524288, 3, 917597, 524288, 3, 983133, 524288, 3, 1048669, 524288, 3, 1114205, 524288, 3, 917598, 524288, 3, 983134, 524288, 3, 1048670, 524288, 3, 1114206, 524288, 3, 917599, 524288, 3, 983135, 524288, 3, 1048671, 524288, 3, 1114207, 524288, 3, 917600, 524288, 3, 983136, 524288, 3, 1048672, 524288, 3, 1114208, 524288, 3, 917601, 524288, 3, 983137, 524288, 3, 1048673, 524288, 3, 1114209, 524288, 3, 917602, 524288, 3, 983138, 524288, 3, 1048674, 524288, 3, 1114210, 524288, 3, 917603, 524288, 3, 983139, 524288, 3, 1048675, 524288, 3, 1114211, 524288, 3, 917604, 524288, 3, 983140, 524288, 3, 1048676, 524288, 3, 1114212, 524288, 3, 851994, 524288, 2, 851995, 524288, 2, 851996, 524288, 2, 851997, 524288, 2, 851998, 524288, 2, 851999, 524288, 2, 852000, 524288, 2, 852001, 524288, 2, 852002, 524288, 2, 852003, 524288, 2, 852004, 524288, 2, 852005, 524288, 2, 852006, 524288, 2, 852007, 524288, 2, 852008, 524288, 2, 852009, 524288, 2, 852010, 524288, 2, 852011, 524288, 2, 852012, 524288, 2, 852013, 524288, 2, 852014, 524288, 2, 852015, 524288, 2, 852016, 524288, 2, 852017, 524288, 2, 852018, 524288, 2, 852019, 524288, 2, 852020, 524288, 2, 852021, 524288, 2, 852022, 524288, 2, 852023, 524288, 2, 852024, 524288, 2, 852025, 524288, 2, 852026, 524288, 2, 852027, 524288, 2, 852028, 524288, 2, 852029, 524288, 2, 852030, 524288, 2, 852031, 524288, 2, 852032, 524288, 2, 852033, 524288, 2, 852034, 524288, 2, 852035, 524288, 2, 852036, 524288, 2, 852037, 524288, 2, 852038, 524288, 2, 852039, 524288, 2, 852040, 524288, 2, 852041, 524288, 2, 852042, 524288, 2, 852043, 524288, 2, 852044, 524288, 2, 852045, 524288, 2, 852046, 524288, 2, 852047, 524288, 2, 852048, 524288, 2, 852049, 524288, 2, 852050, 524288, 2, 852051, 524288, 2, 852052, 524288, 2, 852053, 524288, 2, 852054, 524288, 2, 852055, 524288, 2, 852056, 524288, 2, 852057, 524288, 2, 852058, 524288, 2, 852059, 524288, 2, 852060, 524288, 2, 852061, 524288, 2, 852062, 524288, 2, 852063, 524288, 2, 852064, 524288, 2, 852065, 524288, 2, 852066, 524288, 2, 852067, 524288, 2, 786458, 524288, 1, 786459, 524288, 1, 786460, 524288, 1, 786461, 524288, 1, 786462, 524288, 1, 786463, 524288, 1, 786464, 524288, 1, 786465, 524288, 1, 786466, 524288, 1, 786467, 524288, 1, 786468, 524288, 1, 786469, 524288, 1, 786470, 524288, 1, 786471, 524288, 1, 786472, 524288, 1, 786473, 524288, 1, 786474, 524288, 1, 786475, 524288, 1, 786476, 524288, 1, 786477, 524288, 1, 786478, 524288, 1, 786479, 524288, 1, 786480, 524288, 1, 786481, 524288, 1, 786482, 524288, 1, 786483, 524288, 1, 786484, 524288, 1, 786485, 524288, 1, 786486, 524288, 1, 786487, 524288, 1, 786488, 524288, 1, 786489, 524288, 1, 786490, 524288, 1, 786491, 524288, 1, 786492, 524288, 1, 786493, 524288, 1, 786494, 524288, 1, 786495, 524288, 1, 786496, 524288, 1, 786497, 524288, 1, 786498, 524288, 1, 786499, 524288, 1, 786500, 524288, 1, 786501, 524288, 1, 786502, 524288, 1, 786503, 524288, 1, 786504, 524288, 1, 786505, 524288, 1, 786506, 524288, 1, 786507, 524288, 1, 786508, 524288, 1, 786509, 524288, 1, 786510, 524288, 1, 786511, 524288, 1, 786512, 524288, 1, 786513, 524288, 1, 786514, 524288, 1, 786515, 524288, 1, 786516, 524288, 1, 786517, 524288, 1, 786518, 524288, 1, 786519, 524288, 1, 786520, 524288, 1, 786521, 524288, 1, 786522, 524288, 1, 786523, 524288, 1, 786524, 524288, 1, 786525, 524288, 1, 786526, 524288, 1, 786527, 524288, 1, 786528, 524288, 1, 786529, 524288, 1, 786530, 524288, 1)

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="." groups=["Lights"]]
rotation = 0.485457
blend_mode = 2
shadow_enabled = true
shadow_color = Color(0.802022, 0.720004, 0.87896, 0)

[node name="Node2D" type="Node2D" parent="."]

[node name="LightOccluder2D" type="LightOccluder2D" parent="Node2D"]
occluder = SubResource("OccluderPolygon2D_g8fwo")

[node name="Area2D" type="Area2D" parent="Node2D/LightOccluder2D"]
position = Vector2(-3, -2)
collision_layer = 128
collision_mask = 128

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/LightOccluder2D/Area2D"]
position = Vector2(405.5, -25.5)
shape = SubResource("RectangleShape2D_byd5k")

[node name="LightOccluder2D2" type="LightOccluder2D" parent="Node2D"]
occluder = SubResource("OccluderPolygon2D_2xdgf")

[node name="Area2D" type="Area2D" parent="Node2D/LightOccluder2D2"]
position = Vector2(372, 4)
collision_layer = 128
collision_mask = 128

[node name="CollisionShape2D" type="CollisionShape2D" parent="Node2D/LightOccluder2D2/Area2D"]
position = Vector2(436.5, -31.5)
shape = SubResource("RectangleShape2D_1bsd2")

[node name="ForrestBackground" parent="." instance=ExtResource("1_c3yrf")]
layer = -100

[node name="Sprite2D" type="Sprite2D" parent="."]
modulate = Color(1, 1, 0.478431, 0.203922)
position = Vector2(3573, 412)
scale = Vector2(112.676, 13.875)
texture = SubResource("GradientTexture2D_k5548")

[node name="Sprite2D2" type="Sprite2D" parent="."]
modulate = Color(1, 1, 0.478431, 0.14902)
position = Vector2(3573, 412)
scale = Vector2(112.676, 13.875)
texture = SubResource("GradientTexture2D_u1h07")

[connection signal="end_rune_draw" from="CanvasLayer/RuneTable" to="Player" method="_on_rune_table_end_rune_draw"]
[connection signal="end_rune_draw" from="CanvasLayer/RuneTable" to="Player/ShadowObjectCreator" method="_on_rune_table_end_rune_draw"]
[connection signal="end_spell" from="Player/ShadowObjectCreator" to="Player" method="_on_shadow_object_creator_end_spell"]
